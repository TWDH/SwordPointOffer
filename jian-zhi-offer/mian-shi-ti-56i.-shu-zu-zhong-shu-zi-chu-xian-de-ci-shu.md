# 面试题56：I. 数组中数字出现的次数

## 方法一：异或

* XOR：相同为“0”，相异为“1”。
* 任何数`XOR` - “0”都是自己

1. 将所有数组中的数，**依次**进行**异或**操作。所有相同的数都将变成0（自己XOR自己=0）。
2. 这样得出的结果就是：两个只出现一次的数字，相互**异或**的结果。因为两个数字不相同，所以一定有一位数是1。（比如000**1**）
3. 找到这个**为1**的**位数**，因为两个**只**出现**一次**的数，在**这位数**上的数字，一定**不同**。用此位将整个数组分为**两部分**，每一部分中都包含**一个**只出现一次的数。
4. 对两个组分别进行XOR操作，最后剩下的那个数便是只出现一次的数。

```java
class Solution {
    public int[] singleNumbers(int[] nums) {
        //1.找出两个只出现一次的数，之间相互异或的结果
        int res = 0;
        for(int num : nums){
            res ^= num;
        }
        
        //2.找出两数异或结果后，找出其二进制为“1”最右面的一位，即div。
        //这里div=1表示（0001），<<表示向左移动一位
        int div = 1;
        while((div & res) == 0){
            div <<= 1;
        }

        //3.通过div确定的位数，分为两组分别继续异或
        //每组有一个仅出现一次的数
        int a = 0;
        int b = 0;
        for(int num : nums){
            //因为两数的div位不一样(一个是0，一个是1)，所以使用&将所有数分为两组。（div位=1和div位!=1的）
            //这两个数必然被分到两个不同的组中。然后再进行异或计算
            if((num & div) != 0){
                a ^= num;
            }
            else{
                b ^= num;
            }
        }
        return new int[]{a, b};
    }
}
```

